GoSlideshow=function(b,a){var c=this;this.dragging=false;this.track_index=0;this.track_x=0;this.last_drag_x=0;this.slide_param=a;this.$container=$(b);this.$track=$("<div />").addClass("slideshow-track");this.$container.html(this.$track);this.initImage();setInterval(function(){c.autoPlay()},1000/this.slide_param.slide_speed_framerate);this.$track.on("mousedown",function(d){d.preventDefault();c.dragging=true;c.last_drag_x=d.pageX});this.$track.on("mouseup",function(d){d.preventDefault();c.dragging=false});this.$container.on("mousemove",function(d){c.dragTrack(d.pageX)});this.$container.on("mouseleave",function(d){c.dragging=false})};GoSlideshow.prototype={initImage:function(){this.$track.empty();var c=0;for(var b=0,a=this.slide_param.slide_images.length;b<a;++b){if(b+1==a){this.$track.prepend(this.slide_param.slide_images[b]["el"]);this.track_index=b}else{this.$track.append(this.slide_param.slide_images[b]["el"])}c+=this.slide_param.slide_images[b]["width"]}this.track_x=-1*this.slide_param.slide_images[this.track_index]["width"];this.$track.css("width",c).css("left",this.track_x)},autoPlay:function(){if(!this.dragging){var a=-1*this.slide_param.slide_speed/this.slide_param.slide_speed_framerate;this._moveTrack(a)}},dragTrack:function(b){if(this.dragging&&(b!=this.last_drag_x)){var a=b-this.last_drag_x;this.last_drag_x=b;this._moveTrack(a)}},_moveTrack:function(a){this.track_x+=a;this.$track.css("left",this.track_x);if(0>=a){if(this.slide_param.slide_images[this.track_index]["width"]+this.track_x<0){this.$track.append(this.slide_param.slide_images[this.track_index]["el"]);this.track_x+=this.slide_param.slide_images[this.track_index]["width"];this.$track.css("left",this.track_x);++this.track_index;if(this.track_index>=this.slide_param.slide_images.length){this.track_index=0}}}else{if(this.slide_param.slide_images[this.track_index]["width"]+this.track_x>0){--this.track_index;if(this.track_index<0){this.track_index=this.slide_param.slide_images.length-1}this.$track.prepend(this.slide_param.slide_images[this.track_index]["el"]);this.track_x-=this.slide_param.slide_images[this.track_index]["width"];this.$track.css("left",this.track_x)}}}};